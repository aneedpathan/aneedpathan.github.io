<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Earn Money</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    background:#000;
    color:#fff;
    font-family: Arial;
    margin:0;
    padding:15px;
}
.card{
    background:#111;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
}
input,button{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    border-radius:6px;
    font-size:15px;
}
input{background:#222;color:#fff;}
button{background:#FFD700;color:#000;font-weight:bold;}
.locked{opacity:.6;pointer-events:none;}
</style>
</head>

<body>

<div class="card">
    <div><b>User ID:</b> <span id="uid">Loading...</span></div>
    <div><b>Coins:</b> <span id="coins">10</span></div>
</div>

<div class="card" id="upiBox">
    <b>ðŸ’³ Add Your UPI ID</b>
    <input type="text" id="upi" placeholder="example@upi">
    <button onclick="saveUPI()">Save UPI ID</button>
</div>

<script>
/* ========= CONFIG ========= */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw3FaMdic9THdnwO8RZq2M_UU-fkvnUI8IyoK5d-fKLdtQs21ItF7T8WwlRhS2UPBk2ug/exec";

/* ========= USER ID ========= */
let uid = localStorage.getItem("uid");
if(!uid){
    uid = "APH-" + Math.floor(100000 + Math.random()*900000);
    localStorage.setItem("uid", uid);
}
document.getElementById("uid").innerText = uid;

/* ========= UPI ========= */
const savedUPI = localStorage.getItem("upi");
if(savedUPI){
    document.getElementById("upi").value = savedUPI;
    document.getElementById("upiBox").classList.add("locked");
}

/* ========= SAVE UPI ========= */
function saveUPI(){
    const upi = document.getElementById("upi").value.trim();
    if(!upi){
        alert("Enter valid UPI ID");
        return;
    }

    fetch(`${SCRIPT_URL}?user=${uid}&upi=${upi}&coins=10`)
    .then(r=>r.text())
    .then(()=>{
        localStorage.setItem("upi", upi);
        document.getElementById("upiBox").classList.add("locked");
        alert("UPI Saved Successfully âœ…");
    })
    .catch(()=>{
        alert("Network error");
    });
}
</script>

</body>
</html>
